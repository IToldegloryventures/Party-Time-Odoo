<?xml version="1.0" encoding="UTF-8"?>
<odoo noupdate="1">
    <!-- 
        PTT Dashboard Charts Configuration - Enhanced Home Hub
        ~50 Pre-configured widgets across 5 dashboards
        All external IDs and domains validated for Odoo 19
    -->

    <!-- ========================================== -->
    <!-- TAB 1: MY TASKS - Personal Inbox          -->
    <!-- Like ClickUp's "My Tasks" home screen     -->
    <!-- ========================================== -->

    <!-- KPI Row -->
    <record id="chart_my_tasks_today_kpi" model="dashboard.chart">
        <field name="name">Due Today</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('user_ids', 'in', [uid]), ('stage_id.fold', '=', False)]</field>
        <field name="kpi_date_filter_field_id" ref="project.field_project_task__date_deadline"/>
        <field name="kpi_date_filter_option">today</field>
        <field name="default_icon">fa fa-calendar-check-o</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_my_overdue_kpi" model="dashboard.chart">
        <field name="name">Overdue</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('user_ids', 'in', [uid]), ('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d')), ('stage_id.fold', '=', False)]</field>
        <field name="default_icon">fa fa-exclamation-circle</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_my_activities_kpi" model="dashboard.chart">
        <field name="name">Activities Due</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="mail.model_mail_activity"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('user_id', '=', uid)]</field>
        <field name="kpi_date_filter_field_id" ref="mail.field_mail_activity__date_deadline"/>
        <field name="kpi_date_filter_option">today</field>
        <field name="default_icon">fa fa-bell</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_my_week_kpi" model="dashboard.chart">
        <field name="name">This Week</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('user_ids', 'in', [uid]), ('stage_id.fold', '=', False)]</field>
        <field name="kpi_date_filter_field_id" ref="project.field_project_task__date_deadline"/>
        <field name="kpi_date_filter_option">this_week</field>
        <field name="default_icon">fa fa-tasks</field>
        <field name="background_color">#27ae60</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Task Lists -->
    <record id="chart_my_tasks_today" model="dashboard.chart">
        <field name="name">My Tasks Today</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', 'in', [uid]), ('stage_id.fold', '=', False)]</field>
        <field name="date_filter_field_id" ref="project.field_project_task__date_deadline"/>
        <field name="date_filter_option">today</field>
        <field name="limit_record">10</field>
    </record>

    <record id="chart_my_overdue_tasks" model="dashboard.chart">
        <field name="name">My Overdue Tasks</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', 'in', [uid]), ('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d')), ('stage_id.fold', '=', False)]</field>
        <field name="limit_record">10</field>
    </record>

    <record id="chart_my_urgent_tasks" model="dashboard.chart">
        <field name="name">Urgent Tasks (High Priority)</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', 'in', [uid]), ('priority', '=', '1'), ('stage_id.fold', '=', False)]</field>
        <field name="limit_record">10</field>
    </record>

    <!-- Activities and Comments -->
    <record id="chart_my_activities" model="dashboard.chart">
        <field name="name">My Activities Due</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="mail.model_mail_activity"/>
        <field name="domain">[('user_id', '=', uid)]</field>
        <field name="date_filter_field_id" ref="mail.field_mail_activity__date_deadline"/>
        <field name="date_filter_option">today</field>
        <field name="limit_record">10</field>
    </record>

    <!-- Task Charts -->
    <record id="chart_my_tasks_by_stage" model="dashboard.chart">
        <field name="name">My Tasks by Stage</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', 'in', [uid]), ('stage_id.fold', '=', False)]</field>
        <field name="group_by_id" ref="project.field_project_task__stage_id"/>
        <field name="data_type">count</field>
    </record>

    <record id="chart_my_tasks_by_priority" model="dashboard.chart">
        <field name="name">My Tasks by Priority</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">pie_chart</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', 'in', [uid]), ('stage_id.fold', '=', False)]</field>
        <field name="group_by_id" ref="project.field_project_task__priority"/>
        <field name="data_type">count</field>
    </record>

    <!-- My Assigned Comments -->
    <record id="chart_my_comments" model="dashboard.chart">
        <field name="name">My Assigned Comments</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="mail.model_mail_message"/>
        <field name="domain">[('message_type', '=', 'comment')]</field>
        <field name="limit_record">10</field>
    </record>

    <!-- My Events This Week -->
    <record id="chart_my_events_week" model="dashboard.chart">
        <field name="name">My Events This Week</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('user_id', '=', uid), ('active', '=', True)]</field>
        <field name="date_filter_option">this_week</field>
        <field name="limit_record">10</field>
    </record>

    <!-- Personal To-Do -->
    <record id="chart_my_todos" model="dashboard.chart">
        <field name="name">My To-Do's</field>
        <field name="dashboard_id" ref="dashboard_my_tasks"/>
        <field name="chart_type">to_do</field>
        <field name="todo_layout">default</field>
    </record>

    <!-- ========================================== -->
    <!-- TAB 2: TEAM - Manager Overview            -->
    <!-- ========================================== -->

    <!-- Team KPIs -->
    <record id="chart_team_total_tasks_kpi" model="dashboard.chart">
        <field name="name">Total Open Tasks</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('stage_id.fold', '=', False)]</field>
        <field name="default_icon">fa fa-tasks</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_team_overdue_kpi" model="dashboard.chart">
        <field name="name">Total Overdue</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d')), ('stage_id.fold', '=', False)]</field>
        <field name="default_icon">fa fa-exclamation-triangle</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_team_unassigned_kpi" model="dashboard.chart">
        <field name="name">Unassigned Tasks</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_task"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('user_ids', '=', False), ('stage_id.fold', '=', False)]</field>
        <field name="default_icon">fa fa-user-times</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Team Charts -->
    <record id="chart_team_workload" model="dashboard.chart">
        <field name="name">Team Workload</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('stage_id.fold', '=', False)]</field>
        <field name="group_by_id" ref="project.field_project_task__user_ids"/>
        <field name="data_type">count</field>
    </record>

    <record id="chart_team_tasks_by_stage" model="dashboard.chart">
        <field name="name">All Tasks by Stage</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('stage_id.fold', '=', False)]</field>
        <field name="group_by_id" ref="project.field_project_task__stage_id"/>
        <field name="data_type">count</field>
    </record>

    <!-- Team Lists -->
    <record id="chart_team_overdue" model="dashboard.chart">
        <field name="name">All Overdue Tasks</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d')), ('stage_id.fold', '=', False)]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_team_unassigned" model="dashboard.chart">
        <field name="name">Unassigned Tasks</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="domain">[('user_ids', '=', False), ('stage_id.fold', '=', False)]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_team_activities_overdue" model="dashboard.chart">
        <field name="name">All Overdue Activities</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="mail.model_mail_activity"/>
        <field name="domain">[('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d'))]</field>
        <field name="limit_record">15</field>
    </record>

    <!-- Events by Coordinator -->
    <record id="chart_team_events_by_user" model="dashboard.chart">
        <field name="name">Events by Coordinator</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="group_by_id" ref="project.field_project_project__user_id"/>
        <field name="data_type">count</field>
    </record>

    <!-- Revenue by Sales Rep -->
    <record id="chart_team_revenue_by_rep" model="dashboard.chart">
        <field name="name">Revenue by Sales Rep</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', '=', 'sale')]</field>
        <field name="group_by_id" ref="sale.field_sale_order__user_id"/>
        <field name="data_type">sum</field>
        <field name="date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="date_filter_option">this_month</field>
    </record>

    <!-- Team To-Do's -->
    <record id="chart_team_todos" model="dashboard.chart">
        <field name="name">Team To-Do's</field>
        <field name="dashboard_id" ref="dashboard_team"/>
        <field name="chart_type">to_do</field>
        <field name="todo_layout">default</field>
    </record>

    <!-- ========================================== -->
    <!-- TAB 3: EVENTS - Event Calendar Hub        -->
    <!-- ========================================== -->

    <!-- Event KPIs -->
    <record id="chart_events_today_kpi" model="dashboard.chart">
        <field name="name">Today's Events</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_project"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('active', '=', True)]</field>
        <field name="kpi_date_filter_field_id" ref="project.field_project_project__create_date"/>
        <field name="kpi_date_filter_option">today</field>
        <field name="default_icon">fa fa-calendar</field>
        <field name="background_color">#9b59b6</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_events_week_kpi" model="dashboard.chart">
        <field name="name">This Week</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_project"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('active', '=', True)]</field>
        <field name="kpi_date_filter_option">this_week</field>
        <field name="default_icon">fa fa-calendar-o</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_events_no_vendors_kpi" model="dashboard.chart">
        <field name="name">Needs Vendors</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="project.model_project_project"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('ptt_vendor_count', '=', 0), ('active', '=', True)]</field>
        <field name="default_icon">fa fa-user-plus</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_awaiting_vendor" model="dashboard.chart">
        <field name="name">Awaiting Response</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('status', '=', 'sent')]</field>
        <field name="default_icon">fa fa-clock-o</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Event Lists -->
    <record id="chart_todays_events" model="dashboard.chart">
        <field name="name">Today's Events</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="date_filter_option">today</field>
        <field name="limit_record">10</field>
    </record>

    <record id="chart_events_this_week" model="dashboard.chart">
        <field name="name">Events This Week</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="date_filter_option">this_week</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_upcoming_events_list" model="dashboard.chart">
        <field name="name">Upcoming Events (30 Days)</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="date_filter_option">next_month</field>
        <field name="limit_record">20</field>
    </record>

    <record id="chart_unassigned_events" model="dashboard.chart">
        <field name="name">Events Needing Vendors</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('ptt_vendor_count', '=', 0), ('active', '=', True)]</field>
        <field name="date_filter_option">next_month</field>
        <field name="limit_record">10</field>
    </record>

    <!-- Event Charts -->
    <record id="chart_projects_by_stage" model="dashboard.chart">
        <field name="name">Events by Stage</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="group_by_id" ref="project.field_project_project__stage_id"/>
        <field name="data_type">count</field>
    </record>

    <!-- Vendor Widgets -->
    <record id="chart_work_orders_status" model="dashboard.chart">
        <field name="name">Work Orders by Status</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="group_by_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__status"/>
        <field name="data_type">count</field>
    </record>

    <record id="chart_vendor_schedule" model="dashboard.chart">
        <field name="name">Vendor Schedule This Week</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', 'in', ['confirmed', 'sent'])]</field>
        <field name="date_filter_field_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__service_date"/>
        <field name="date_filter_option">this_week</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_declined_work_orders" model="dashboard.chart">
        <field name="name">Declined Work Orders</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', '=', 'declined')]</field>
        <field name="limit_record">10</field>
    </record>

    <record id="chart_pending_work_orders" model="dashboard.chart">
        <field name="name">Pending Work Orders</field>
        <field name="dashboard_id" ref="dashboard_events"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', '=', 'pending')]</field>
        <field name="limit_record">15</field>
    </record>

    <!-- ========================================== -->
    <!-- TAB 4: PIPELINE - CRM + Sales Hub         -->
    <!-- ========================================== -->

    <!-- Pipeline KPIs -->
    <record id="chart_new_leads_kpi" model="dashboard.chart">
        <field name="name">New Leads MTD</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="crm.model_crm_lead"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('type', '=', 'lead')]</field>
        <field name="kpi_date_filter_field_id" ref="crm.field_crm_lead__create_date"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="previous_period_comparision" eval="True"/>
        <field name="previous_period_duration">1</field>
        <field name="previous_period_type">percentage</field>
        <field name="default_icon">fa fa-user-plus</field>
        <field name="background_color">#27ae60</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_pipeline_value" model="dashboard.chart">
        <field name="name">Pipeline Value</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="crm.model_crm_lead"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_domain">[('type', '=', 'opportunity'), ('probability', '&lt;', 100)]</field>
        <field name="default_icon">fa fa-dollar</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_open_quotes_kpi" model="dashboard.chart">
        <field name="name">Open Quotes</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="sale.model_sale_order"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('state', 'in', ['draft', 'sent'])]</field>
        <field name="default_icon">fa fa-file-text-o</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_bookings_kpi" model="dashboard.chart">
        <field name="name">Bookings MTD</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="sale.model_sale_order"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('state', '=', 'sale')]</field>
        <field name="kpi_date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="default_icon">fa fa-check-circle</field>
        <field name="background_color">#9b59b6</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Pipeline Funnel -->
    <record id="chart_leads_by_stage" model="dashboard.chart">
        <field name="name">Pipeline Funnel</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">funnel_chart</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain">[('type', '=', 'opportunity')]</field>
        <field name="group_by_id" ref="crm.field_crm_lead__stage_id"/>
        <field name="data_type">count</field>
    </record>

    <!-- Pipeline Lists -->
    <record id="chart_my_leads" model="dashboard.chart">
        <field name="name">My Open Leads</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain">[('user_id', '=', uid), ('type', '=', 'opportunity'), ('probability', '&lt;', 100)]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_my_quotes" model="dashboard.chart">
        <field name="name">My Open Quotes</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('user_id', '=', uid), ('state', 'in', ['draft', 'sent'])]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_unsigned_contracts" model="dashboard.chart">
        <field name="name">Unsigned Contracts</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', 'in', ['draft', 'sent'])]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_followup_activities" model="dashboard.chart">
        <field name="name">Follow-Up Activities Today</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="mail.model_mail_activity"/>
        <field name="domain">[('user_id', '=', uid)]</field>
        <field name="date_filter_field_id" ref="mail.field_mail_activity__date_deadline"/>
        <field name="date_filter_option">today</field>
        <field name="limit_record">10</field>
    </record>

    <!-- Revenue by Month Chart -->
    <record id="chart_pipeline_revenue_month" model="dashboard.chart">
        <field name="name">Revenue by Month</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">line_chart</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', '=', 'sale')]</field>
        <field name="group_by_id" ref="sale.field_sale_order__date_order"/>
        <field name="data_type">sum</field>
        <field name="time_range">month</field>
    </record>

    <!-- Sales by Event Type (using CRM lead type) -->
    <record id="chart_pipeline_by_type" model="dashboard.chart">
        <field name="name">Opportunities by Stage</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">pie_chart</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain">[('type', '=', 'opportunity')]</field>
        <field name="group_by_id" ref="crm.field_crm_lead__stage_id"/>
        <field name="data_type">count</field>
    </record>

    <!-- Outstanding Payments KPI for Pipeline -->
    <record id="chart_pipeline_outstanding" model="dashboard.chart">
        <field name="name">Outstanding Payments</field>
        <field name="dashboard_id" ref="dashboard_pipeline"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="account.model_account_move"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_domain">[('move_type', '=', 'out_invoice'), ('payment_state', 'in', ['not_paid', 'partial'])]</field>
        <field name="default_icon">fa fa-exclamation-triangle</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- ========================================== -->
    <!-- TAB 5: VENDORS - Vendor Management Hub    -->
    <!-- Like a dedicated vendor operations center -->
    <!-- ========================================== -->

    <!-- Vendor KPIs -->
    <record id="chart_vendor_pending_kpi" model="dashboard.chart">
        <field name="name">Pending Work Orders</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('status', '=', 'pending')]</field>
        <field name="default_icon">fa fa-hourglass-start</field>
        <field name="background_color">#95a5a6</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_vendor_awaiting_kpi" model="dashboard.chart">
        <field name="name">Awaiting Response</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('status', '=', 'sent')]</field>
        <field name="default_icon">fa fa-clock-o</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_vendor_confirmed_kpi" model="dashboard.chart">
        <field name="name">Confirmed Vendors</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('status', '=', 'confirmed')]</field>
        <field name="default_icon">fa fa-check-circle</field>
        <field name="background_color">#27ae60</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_vendor_declined_kpi" model="dashboard.chart">
        <field name="name">Declined</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">count</field>
        <field name="kpi_domain">[('status', '=', 'declined')]</field>
        <field name="default_icon">fa fa-times-circle</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_vendor_costs_mtd_kpi" model="dashboard.chart">
        <field name="name">Vendor Costs MTD</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_date_filter_field_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__service_date"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="default_icon">fa fa-money</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Vendor Charts -->
    <record id="chart_vendor_wo_by_status" model="dashboard.chart">
        <field name="name">Work Orders by Status</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="group_by_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__status"/>
        <field name="data_type">count</field>
    </record>

    <record id="chart_vendor_wo_by_service" model="dashboard.chart">
        <field name="name">Work Orders by Service Type</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">pie_chart</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="group_by_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__service_type"/>
        <field name="data_type">count</field>
    </record>

    <!-- Vendor Lists -->
    <record id="chart_vendor_pending_list" model="dashboard.chart">
        <field name="name">Pending Work Orders</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', '=', 'pending')]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_vendor_awaiting_list" model="dashboard.chart">
        <field name="name">Awaiting Vendor Response</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', '=', 'sent')]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_vendor_declined_list" model="dashboard.chart">
        <field name="name">Declined Work Orders</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', '=', 'declined')]</field>
        <field name="limit_record">10</field>
    </record>

    <record id="chart_vendor_schedule_week" model="dashboard.chart">
        <field name="name">Vendor Schedule This Week</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="domain">[('status', 'in', ['confirmed', 'sent'])]</field>
        <field name="date_filter_field_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__service_date"/>
        <field name="date_filter_option">this_week</field>
        <field name="limit_record">20</field>
    </record>

    <record id="chart_vendor_events_needing" model="dashboard.chart">
        <field name="name">Events Without Vendors</field>
        <field name="dashboard_id" ref="dashboard_vendors"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="domain">[('ptt_vendor_count', '=', 0), ('active', '=', True)]</field>
        <field name="date_filter_option">next_month</field>
        <field name="limit_record">15</field>
    </record>

    <!-- ========================================== -->
    <!-- TAB 6: SALES METRICS - Revenue + KPIs     -->
    <!-- ========================================== -->

    <!-- Revenue KPIs -->
    <record id="chart_revenue_mtd" model="dashboard.chart">
        <field name="name">Revenue MTD</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="sale.model_sale_order"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_domain">[('state', '=', 'sale')]</field>
        <field name="kpi_date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="previous_period_comparision" eval="True"/>
        <field name="previous_period_duration">1</field>
        <field name="previous_period_type">percentage</field>
        <field name="default_icon">fa fa-dollar</field>
        <field name="background_color">#27ae60</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_outstanding_payments" model="dashboard.chart">
        <field name="name">Outstanding Payments</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="account.model_account_move"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_domain">[('move_type', '=', 'out_invoice'), ('payment_state', 'in', ['not_paid', 'partial'])]</field>
        <field name="default_icon">fa fa-exclamation-triangle</field>
        <field name="background_color">#e74c3c</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_avg_deal_size" model="dashboard.chart">
        <field name="name">Avg Deal Size</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="sale.model_sale_order"/>
        <field name="kpi_data_type">average</field>
        <field name="kpi_domain">[('state', '=', 'sale')]</field>
        <field name="kpi_date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="default_icon">fa fa-bar-chart</field>
        <field name="background_color">#3498db</field>
        <field name="font_color">#ffffff</field>
    </record>

    <record id="chart_vendor_costs" model="dashboard.chart">
        <field name="name">Vendor Costs MTD</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">kpi</field>
        <field name="kpi_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="kpi_data_type">sum</field>
        <field name="kpi_date_filter_field_id" ref="ptt_business_core.field_ptt_project_vendor_assignment__service_date"/>
        <field name="kpi_date_filter_option">this_month</field>
        <field name="default_icon">fa fa-money</field>
        <field name="background_color">#f39c12</field>
        <field name="font_color">#ffffff</field>
    </record>

    <!-- Revenue Charts -->
    <record id="chart_revenue_by_month" model="dashboard.chart">
        <field name="name">Revenue by Month</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">line_chart</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', '=', 'sale')]</field>
        <field name="group_by_id" ref="sale.field_sale_order__date_order"/>
        <field name="data_type">sum</field>
        <field name="time_range">month</field>
    </record>

    <record id="chart_sales_by_user" model="dashboard.chart">
        <field name="name">Sales by Rep</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">column_chart</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', '=', 'sale')]</field>
        <field name="group_by_id" ref="sale.field_sale_order__user_id"/>
        <field name="data_type">sum</field>
        <field name="date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="date_filter_option">this_month</field>
    </record>

    <!-- Outstanding Invoices List -->
    <record id="chart_outstanding_invoices" model="dashboard.chart">
        <field name="name">Outstanding Invoices</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="domain">[('move_type', '=', 'out_invoice'), ('payment_state', 'in', ['not_paid', 'partial'])]</field>
        <field name="limit_record">15</field>
    </record>

    <record id="chart_recent_bookings" model="dashboard.chart">
        <field name="name">Recent Bookings</field>
        <field name="dashboard_id" ref="dashboard_sales_metrics"/>
        <field name="chart_type">list</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain">[('state', '=', 'sale')]</field>
        <field name="date_filter_field_id" ref="sale.field_sale_order__date_order"/>
        <field name="date_filter_option">this_month</field>
        <field name="limit_record">15</field>
    </record>

</odoo>
