<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vendor Application Form (Public) -->
    <template id="portal_vendor_application" name="Vendor Application Form">
        <t t-call="portal.portal_layout">
            <div class="container mt-4">
                <div class="row justify-content-center">
                    <div class="col-md-10">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Work with Us - Vendor Application</h3>
                                <p class="card-text">Please fill out all sections to submit your application.</p>
                            </div>
                            <div class="card-body">
                                <t t-if="error">
                                    <div class="alert alert-danger" role="alert">
                                        <t t-out="error"/>
                                    </div>
                                </t>

                                <form method="post" action="/vendor/apply" enctype="multipart/form-data" class="o_form">
                                    <!-- Company Information -->
                                    <h4 class="mb-3">Company Information</h4>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label for="name">Company Name *</label>
                                                <input type="text" class="form-control" name="name" required="required"/>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label for="email">Company Email *</label>
                                                <input type="email" class="form-control" name="email" required="required"/>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label for="phone">Company Phone *</label>
                                                <input type="tel" class="form-control" name="phone" required="required"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label for="website">Website</label>
                                                <input type="text" class="form-control" name="website"/>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label for="street">Street Address</label>
                                                <input type="text" class="form-control" name="street"/>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label for="city">City</label>
                                                <input type="text" class="form-control" name="city"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group mb-3">
                                                <label for="state_id">State</label>
                                                <select class="form-control" name="state_id">
                                                    <option value="">Select State</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group mb-3">
                                                <label for="zip">ZIP Code</label>
                                                <input type="text" class="form-control" name="zip"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Services Offered -->
                                    <h4 class="mb-3 mt-4">Services Offered *</h4>
                                    <div class="form-group mb-3">
                                        <label>Select at least one service type:</label>
                                        <div class="row">
                                            <t t-foreach="service_types" t-as="service">
                                                <div class="col-md-4 mb-2">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox"
                                                               name="service_types" t-att-value="service[0]"/>
                                                        <label class="form-check-label">
                                                            <t t-out="service[1]"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </t>
                                        </div>
                                    </div>

                                    <!-- Documents Upload -->
                                    <h4 class="mb-3 mt-4">Required Documents</h4>
                                    <div class="alert alert-info" role="alert">
                                        <strong>Note:</strong> Please ensure all documents are current and valid.
                                    </div>

                                    <t t-foreach="document_types" t-as="doc_type">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>
                                                        <t t-out="doc_type.name"/>
                                                        <span class="text-danger" t-if="doc_type.required">*</span>
                                                    </label>
                                                    <input type="file"
                                                           class="form-control"
                                                           t-att-name="doc_type.code + '_document'"
                                                           t-att-required="doc_type.required"
                                                           accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"/>
                                                </div>
                                            </div>
                                            <div class="col-md-6" t-if="doc_type.has_expiry">
                                                <div class="form-group">
                                                    <label>
                                                        Expiry Date
                                                        <span class="text-danger" t-if="doc_type.required">*</span>
                                                    </label>
                                                    <input type="date"
                                                           class="form-control"
                                                           t-att-name="doc_type.code + '_validity'"
                                                           t-att-required="doc_type.required"/>
                                                </div>
                                            </div>
                                        </div>
                                    </t>

                                    <!-- Submit Button -->
                                    <div class="text-center mt-4">
                                        <button type="submit" class="btn btn-primary btn-lg">
                                            <i class="fa fa-check"></i> Submit Application
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Thank You Page -->
    <template id="portal_vendor_application_thankyou" name="Vendor Application Thank You">
        <t t-call="portal.portal_layout">
            <div class="container mt-4">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-body text-center">
                                <h2 class="text-success">Thank You!</h2>
                                <p class="lead">Your vendor application has been submitted successfully.</p>
                                <p>We will review your application and contact you soon.</p>
                                <p class="text-muted">Application ID: <t t-out="vendor.id"/></p>
                                <a href="/" class="btn btn-primary">Return to Home</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
