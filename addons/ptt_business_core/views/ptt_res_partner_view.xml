<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
        PTT Res Partner Form View Extension
        
        NOTE: Use standard Odoo fields:
        - supplier_rank > 0 = Is a Vendor (standard)
        - comment = Internal Notes (standard - use instead of x_vendor_notes)
        
        To mark a contact as a vendor, use the standard "Purchase" tab 
        or set supplier_rank > 0 programmatically.
    -->
    <record id="view_partner_form_ptt" model="ir.ui.view">
        <field name="name">res.partner.form.ptt</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <!-- Add Vendor Info tab (visible when supplier_rank > 0, i.e. is a vendor) -->
            <xpath expr="//sheet/notebook" position="inside">
                <page string="PTT Vendor Info" invisible="supplier_rank == 0">
                    <group>
                        <group string="Vendor Details">
                            <field name="x_vendor_service_types"/>
                            <field name="x_vendor_rating"/>
                            <field name="x_vendor_preferred"/>
                        </group>
                        <group string="Notes">
                            <field name="comment" widget="text" nolabel="1" 
                                   placeholder="Use this standard Notes field for vendor notes"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
