/**
 * PTT CRM Lead Notes Tab Styling
 * Clean, modern design with clear visual separation
 */

/* ============================================
   Custom Scrollbar Styling - Modern & Sleek
   ============================================ */

/* For WebKit browsers (Chrome, Safari, Edge) */
.o_crm_form_view {
    .o_notebook_content {
        .o_field_html,
        .o_readonly,
        .odoo-editor-editable,
        .note-editable,
        .overflow-auto {
            &::-webkit-scrollbar {
                width: 6px;
                height: 6px;
            }
            
            &::-webkit-scrollbar-track {
                background: transparent;
            }
            
            &::-webkit-scrollbar-thumb {
                background: rgba(135, 90, 175, 0.3);
                border-radius: 3px;
                
                &:hover {
                    background: rgba(135, 90, 175, 0.5);
                }
            }
        }
    }
}

/* Firefox scrollbar */
.o_crm_form_view .o_notebook_content {
    .o_field_html,
    .o_readonly,
    .odoo-editor-editable,
    .note-editable,
    .overflow-auto {
        scrollbar-width: thin;
        scrollbar-color: rgba(135, 90, 175, 0.3) transparent;
    }
}

/* ============================================
   Notes Tab - Card-Style Visual Separation
   ============================================ */

/* Notes tab container */
.o_notebook_content [name="internal_notes"] {
    padding: 16px 8px;
    
    /* Main two-column group */
    > .o_group {
        gap: 24px;
        
        /* Each inner group (Customer Notes / Internal Notes) */
        > tbody > tr > td {
            padding: 0 12px;
            
            .o_inner_group {
                /* Card-style container */
                background: rgba(30, 30, 40, 0.4);
                border: 1px solid rgba(135, 90, 175, 0.3);
                border-radius: 12px;
                padding: 0;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
                transition: border-color 0.2s ease;
                
                &:hover {
                    border-color: rgba(135, 90, 175, 0.5);
                }
                
                /* Group header/title */
                .o_horizontal_separator {
                    background: linear-gradient(135deg, rgba(135, 90, 175, 0.2) 0%, rgba(100, 70, 150, 0.1) 100%);
                    margin: 0;
                    padding: 14px 18px;
                    font-weight: 600;
                    font-size: 0.95em;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                    color: rgba(255, 255, 255, 0.9);
                    border-bottom: 1px solid rgba(135, 90, 175, 0.2);
                }
                
                /* Field container */
                > tbody > tr > td {
                    padding: 16px 18px;
                    
                    .o_field_html {
                        min-height: 400px;
                        
                        /* Readonly content (Customer Notes) */
                        .o_readonly {
                            min-height: 380px;
                            padding: 12px;
                            background: rgba(255, 255, 255, 0.02);
                            border-radius: 6px;
                            line-height: 1.6;
                        }
                        
                        /* Editable content (Internal Notes) */
                        .odoo-editor-editable,
                        .note-editable {
                            min-height: 380px;
                            padding: 12px;
                            background: rgba(255, 255, 255, 0.03);
                            border-radius: 6px;
                            border: 1px solid rgba(255, 255, 255, 0.1);
                            
                            &:focus {
                                border-color: rgba(135, 90, 175, 0.5);
                                outline: none;
                                box-shadow: 0 0 0 3px rgba(135, 90, 175, 0.1);
                            }
                        }
                    }
                }
            }
        }
        
        /* First column - Customer Notes (readonly, slightly different style) */
        > tbody > tr > td:first-child {
            .o_inner_group {
                border-color: rgba(100, 150, 200, 0.3);
                
                &:hover {
                    border-color: rgba(100, 150, 200, 0.5);
                }
                
                .o_horizontal_separator {
                    background: linear-gradient(135deg, rgba(100, 150, 200, 0.2) 0%, rgba(80, 130, 180, 0.1) 100%);
                    border-bottom-color: rgba(100, 150, 200, 0.2);
                }
            }
        }
        
        /* Second column - Internal Notes (editable, purple theme) */
        > tbody > tr > td:last-child {
            .o_inner_group {
                border-color: rgba(135, 90, 175, 0.3);
                
                &:hover {
                    border-color: rgba(135, 90, 175, 0.5);
                }
            }
        }
    }
}

/* ============================================
   Ensure proper height for notebook content
   ============================================ */

.o_notebook_content {
    .tab-pane.active {
        min-height: 480px;
    }
}

/* Field-specific minimum heights */
.o_field_widget[name="x_customer_submission_notes"],
.o_field_widget[name="description"] {
    min-height: 400px;
    
    .o_readonly,
    .odoo-editor-editable,
    .note-editable {
        min-height: 380px;
        max-height: none;
    }
}

/* ============================================
   Responsive adjustments
   ============================================ */

@media (max-width: 992px) {
    .o_notebook_content [name="internal_notes"] {
        > .o_group > tbody > tr > td {
            padding: 8px 4px;
            
            .o_inner_group {
                margin-bottom: 16px;
            }
        }
    }
}
