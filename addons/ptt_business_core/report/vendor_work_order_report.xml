<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_report_vendor_work_order" model="ir.actions.report">
        <field name="name">Vendor Work Order</field>
        <field name="model">ptt.project.vendor.assignment</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">ptt_business_core.vendor_work_order_report</field>
        <field name="report_file">ptt_business_core.vendor_work_order_report</field>
        <field name="print_report_name">'Work Order - ' + (object.x_event_name or object.service_type)</field>
        <field name="binding_model_id" ref="ptt_business_core.model_ptt_project_vendor_assignment"/>
        <field name="binding_type">report</field>
    </record>

    <template id="vendor_work_order_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <div class="oe_structure"/>
                    
                    <div class="container">
                        <div class="row">
                            <div class="col-12 text-center mb-4">
                                <h2>Work Order</h2>
                                <h4 t-if="doc.x_event_name"><t t-out="doc.x_event_name"/></h4>
                            </div>
                        </div>
                        
                        <div class="row mb-4">
                            <div class="col-6">
                                <h5>Event Details</h5>
                                <table class="table table-bordered">
                                    <tr>
                                        <td><strong>Event Date:</strong></td>
                                        <td t-if="doc.x_event_date"><span t-field="doc.x_event_date"/></td>
                                        <td t-else="">TBD</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Event Time:</strong></td>
                                        <td><t t-out="doc.x_event_time or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Venue:</strong></td>
                                        <td><t t-out="doc.x_venue_name or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Venue Address:</strong></td>
                                        <td><t t-out="doc.x_venue_address or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Guest Count:</strong></td>
                                        <td><t t-out="doc.x_guest_count or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Event Type:</strong></td>
                                        <td><t t-out="doc.x_event_type or 'N/A'"/></td>
                                    </tr>
                                </table>
                            </div>
                            
                            <div class="col-6">
                                <h5>Service Requirements</h5>
                                <table class="table table-bordered">
                                    <tr>
                                        <td><strong>Service Type:</strong></td>
                                        <td><t t-out="doc.x_service_type_display or doc.service_type"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Setup Time:</strong></td>
                                        <td><t t-out="doc.x_setup_time or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Duration:</strong></td>
                                        <td><t t-out="doc.x_duration or 'TBD'"/></td>
                                    </tr>
                                </table>
                                
                                <h5 class="mt-3">Contact Information</h5>
                                <table class="table table-bordered">
                                    <tr>
                                        <td><strong>Client Contact:</strong></td>
                                        <td><t t-out="doc.x_client_contact_name or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Contact Phone:</strong></td>
                                        <td><t t-out="doc.x_client_contact_phone or 'TBD'"/></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Venue Contact:</strong></td>
                                        <td><t t-out="doc.x_venue_contact_name or 'TBD'"/></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                        <div class="row mb-4" t-if="doc.x_equipment_notes or doc.x_service_requirements">
                            <div class="col-12">
                                <h5>Service Requirements &amp; Equipment Notes</h5>
                                <div class="border p-3">
                                    <p t-if="doc.x_service_requirements" t-out="doc.x_service_requirements"/>
                                    <p t-if="doc.x_equipment_notes" t-out="doc.x_equipment_notes"/>
                                    <p t-if="not doc.x_service_requirements and not doc.x_equipment_notes" class="text-muted">No special requirements noted.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-12">
                                <p class="text-muted small">
                                    <strong>Note:</strong> This work order is for informational purposes only. 
                                    Please confirm your acceptance through the vendor portal.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="oe_structure"/>
                </div>
            </t>
        </t>
    </template>
</odoo>
