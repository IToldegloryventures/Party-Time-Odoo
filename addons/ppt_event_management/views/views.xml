<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- CRM Lead Form View Extensions -->
        <record model="ir.ui.view" id="crm_lead_event_form_view">
            <field name="name">CRM Lead - Event Fields</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id">crm.crm_lead_view_form</field>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='internal_notes']" position="before">
                    <page name="event_details" string="Event Details">
                        <group>
                            <group string="Event Information">
                                <field name="ppt_event_type"/>
                                <field name="ppt_event_name"/>
                                <field name="ppt_event_date"/>
                                <field name="ppt_guest_count"/>
                            </group>
                            <group string="Event Schedule">
                                <field name="ppt_event_start_time"/>
                                <field name="ppt_event_end_time"/>
                                <field name="ppt_total_hours"/>
                            </group>
                            <group string="Event Location">
                                <field name="ppt_event_location_type"/>
                                <field name="ppt_venue_booked"/>
                                <field name="ppt_venue_name"/>
                            </group>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>

        <!-- Account Move Form View Extensions -->
        <record model="ir.ui.view" id="account_move_event_form_view">
            <field name="name">Account Move - Event Fields</field>
            <field name="model">account.move</field>
            <field name="inherit_id">account.view_move_form</field>
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="before">
                    <div class="alert alert-info" role="alert" attrs="{'invisible': [('ppt_event_type', '=', False)]}">
                        <strong>Event Invoice:</strong>
                        <span attrs="{'invisible': [('ppt_event_name', '=', False)]}" class="ms-2">
                            <field name="ppt_event_name" class="fw-bold"/>
                        </span>
                        (<field name="ppt_event_type" class="ms-1"/>)
                        <span attrs="{'invisible': [('ppt_event_date', '=', False)]}" class="ms-3">
                            <field name="ppt_event_date" class="ms-1"/>
                        </span>
                    </div>
                </xpath>
                <xpath expr="//div[@class='row']" position="inside">
                    <div class="col-12 col-md-6 o_td_label" attrs="{'invisible': [('ppt_event_type', '=', False)]}">
                        <label for="ppt_price_per_person" string="Price Per Person"/>
                    </div>
                    <div class="col-12 col-md-6" attrs="{'invisible': [('ppt_event_type', '=', False)]}">
                        <field name="ppt_price_per_person"/>
                    </div>
                </xpath>
            </field>
        </record>

        <!-- CRM Lead Kanban View Extensions -->
        <record model="ir.ui.view" id="crm_lead_event_kanban_view">
            <field name="name">CRM Lead - Event Kanban</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id">crm.crm_kanban_view_leads_opportunity</field>
            <field name="arch" type="xml">
                <xpath expr="//templates" position="inside">
                    <field name="ppt_event_type"/>
                    <field name="ppt_event_name"/>
                    <field name="ppt_event_date"/>
                </xpath>
            </field>
        </record>

        <!-- Actions -->
        <!--
        <record model="ir.actions.act_window" id="crm_lead_event_action">
            <field name="name">Event Leads</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('ppt_event_type', '!=', False)]</field>
        </record>

        <menuitem name="Event Leads" id="crm_lead_event_menu" parent="crm.crm_menu_root"
                  action="crm_lead_event_action" sequence="15"/>
        -->
    </data>
</odoo>
