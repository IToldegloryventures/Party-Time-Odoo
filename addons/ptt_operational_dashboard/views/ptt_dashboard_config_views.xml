<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Dashboard Configuration Form View -->
    <record id="ptt_dashboard_config_view_form" model="ir.ui.view">
        <field name="name">ptt.dashboard.config.form</field>
        <field name="model">ptt.dashboard.config</field>
        <field name="arch" type="xml">
            <form string="Dashboard Configuration">
                <sheet>
                    <group>
                        <group string="Default Settings">
                            <field name="default_date_range"/>
                            <field name="enable_export"/>
                        </group>
                        <group string="User Filter Settings">
                            <field name="show_all_users"/>
                            <field name="user_filter_domain" placeholder="e.g., [('groups_id', 'in', [ref('base.group_salesman')])]"/>
                            <field name="min_events_to_show"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Dashboard Configuration Action -->
    <record id="action_ptt_dashboard_config" model="ir.actions.act_window">
        <field name="name">Dashboard Configuration</field>
        <field name="res_model">ptt.dashboard.config</field>
        <field name="view_mode">form</field>
        <field name="target">current</field>
        <field name="context">{'form_view_initial_mode': 'edit'}</field>
    </record>

    <!-- Metric Configuration List View -->
    <record id="ptt_dashboard_metric_config_view_tree" model="ir.ui.view">
        <field name="name">ptt.dashboard.metric.config.tree</field>
        <field name="model">ptt.dashboard.metric.config</field>
        <field name="arch" type="xml">
            <tree string="Metric Configuration" editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="metric_name"/>
                <field name="metric_label"/>
                <field name="visible"/>
                <field name="tab_assignment"/>
                <field name="kpi_size"/>
                <field name="sequence"/>
            </tree>
        </field>
    </record>

    <!-- Metric Configuration Form View -->
    <record id="ptt_dashboard_metric_config_view_form" model="ir.ui.view">
        <field name="name">ptt.dashboard.metric.config.form</field>
        <field name="model">ptt.dashboard.metric.config</field>
        <field name="arch" type="xml">
            <form string="Metric Configuration">
                <sheet>
                    <group>
                        <group>
                            <field name="metric_name"/>
                            <field name="metric_label"/>
                            <field name="tab_assignment"/>
                            <field name="visible"/>
                            <field name="sequence"/>
                            <field name="kpi_size"/>
                        </group>
                        <group>
                            <field name="format_type"/>
                            <field name="show_trend"/>
                            <field name="target_value"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Color Thresholds">
                            <group>
                                <field name="threshold_green_min"/>
                                <field name="threshold_yellow_min"/>
                                <field name="threshold_red_max"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Metric Configuration Action -->
    <record id="action_ptt_dashboard_metric_config" model="ir.actions.act_window">
        <field name="name">Metric Configuration</field>
        <field name="res_model">ptt.dashboard.metric.config</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_visible': 1}</field>
    </record>

    <!-- Layout Configuration List View -->
    <record id="ptt_dashboard_layout_config_view_tree" model="ir.ui.view">
        <field name="name">ptt.dashboard.layout.config.tree</field>
        <field name="model">ptt.dashboard.layout.config</field>
        <field name="arch" type="xml">
            <tree string="Layout Configuration" editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="section_name"/>
                <field name="section_label"/>
                <field name="tab_assignment"/>
                <field name="visible"/>
                <field name="grid_columns"/>
                <field name="card_size"/>
            </tree>
        </field>
    </record>

    <!-- Layout Configuration Form View -->
    <record id="ptt_dashboard_layout_config_view_form" model="ir.ui.view">
        <field name="name">ptt.dashboard.layout.config.form</field>
        <field name="model">ptt.dashboard.layout.config</field>
        <field name="arch" type="xml">
            <form string="Layout Configuration">
                <sheet>
                    <group>
                        <group>
                            <field name="section_name"/>
                            <field name="section_label"/>
                            <field name="tab_assignment"/>
                            <field name="visible"/>
                            <field name="sequence"/>
                        </group>
                        <group>
                            <field name="grid_columns"/>
                            <field name="card_size"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Layout Configuration Action -->
    <record id="action_ptt_dashboard_layout_config" model="ir.actions.act_window">
        <field name="name">Layout Configuration</field>
        <field name="res_model">ptt.dashboard.layout.config</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>

